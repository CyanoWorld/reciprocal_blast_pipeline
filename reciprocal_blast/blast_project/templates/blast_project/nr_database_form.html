<!DOCTYPE html>
<html lang="en">
<body>
     <div class="container-fluid ">
        <form method = "POST" enctype="multipart/form-data">

            {% csrf_token %}

            <div class="form-group mr-2">
                <label for="project_title"> Project Title </label>
                <input type="text" class="form-control" id="project_title" name="project_title">
                {% if BlastProjectNrForm.project_title.errors %}
                    <div class="alert alert-danger">
                        <strong>{{BlastProjectNrForm.project_title.errors}}</strong>
                    </div>
                {% endif %}
            </div>

            <div class="form-group mr-2">
                <label for="taxid_bw"> Scientific Names (conversion to Taxonomic Nodes) for Backward BLAST (comma separated list)</label>
                <input type="text" class="form-control" id="taxid_bw" name="taxid_bw">
                {% if BlastProjectNrForm.taxid_bw.errors %}
                    <div class="alert alert-danger">
                        <strong>{{BlastProjectNrForm.taxid_bw.errors}}</strong>
                    </div>
                {% endif %}
            </div>

            <div class="form-group mr-2">
                <label for="taxid_fw"> Scientific Names (conversion to Taxonomic Nodes) Forward BLAST (comma separated list)</label>
                <input type="text" class="form-control" id="taxid_fw" name="taxid_fw">
                {% if BlastProjectNrForm.taxid_fw.errors %}
                    <div class="alert alert-danger">
                        <strong>{{BlastProjectNrForm.taxid_fw.errors}}</strong>
                    </div>
                {% endif %}
            </div>

            <div class="form-group">
                <label for="query_sequence_file">Query Sequences</label>
                <input type="file" class="form-control-file" id="query_sequence_file" name="query_sequence_file">
                {% if BlastProjectNrForm.query_sequence_file.errors %}
                    <div class="alert alert-danger">
                        <strong>{{BlastProjectNrForm.query_sequence_file.errors}}</strong>
                    </div>
                {% endif %}
            </div>

            <div id="advanced_settings" class="form-group" style="display:none">
                <p><strong>Settings for Forward Blast:</strong></p>
                <div class="form-group">
                    <label for="fw_e_value">E-Value</label>
                    <input type="number" class="form-control-file" id="fw_e_value" name="fw_e_value" value="0.001">
                </div>
                <div class="form-group">
                    <label for="fw_word_size">Word-Size</label>
                    <input type="number" class="form-control-file" id="fw_word_size" name="fw_word_size" value="3">
                </div>
                <div class="form-group">
                    <label for="fw_num_alignments">Alignment Number</label>
                    <input type="number" class="form-control-file" id="fw_num_alignments" name="fw_num_alignments" value="10000">
                </div>
                 <div class="form-group">
                    <label for="fw_num_descriptions">Description Number</label>
                    <input type="number" class="form-control-file" id="fw_num_descriptions" name="fw_num_descriptions" value="500">
                </div>
                 <div class="form-group">
                    <label for="fw_num_threads">Number of Threads</label>
                    <input type="number" class="form-control-file" id="fw_num_threads" name="fw_num_threads" value="1">
                </div>

                <p><strong>Settings for Backward Blast:</strong></p>
                <div class="form-group">
                    <label for="bw_e_value">E-Value</label>
                    <input type="number" class="form-control-file" id="bw_e_value" name="bw_e_value" value="0.001">
                </div>
                <div class="form-group">
                    <label for="bw_word_size">Word-Size</label>
                    <input type="number" class="form-control-file" id="bw_word_size" name="bw_word_size" value="3">
                </div>
                <div class="form-group">
                    <label for="bw_num_alignments">Alignment Number</label>
                    <input type="number" class="form-control-file" id="bw_num_alignments" name="bw_num_alignments" value="1">
                </div>

                 <div class="form-group">
                    <label for="bw_num_descriptions">Description Number</label>
                    <input type="number" class="form-control-file" id="bw_num_descriptions" name="bw_num_descriptions" value="1">
                </div>
                 <div class="form-group">
                    <label for="bw_max_hsps">Maximum Number of High Scoring Pairs</label>
                    <input type="number" class="form-control-file" id="bw_max_hsps" name="bw_max_hsps" value="1">
                </div>
                 <div class="form-group">
                    <label for="bw_num_threads">Number of Threads</label>
                    <input type="number" class="form-control-file" id="bw_num_threads" name="bw_num_threads" value="1">
                </div>
            </div>
            <input type = "submit" value = "Submit" class="btn btn-primary mb-2">
            <input type="hidden" value="nr" id="project_type" name="project_type">
        </form>

            <button class="btn btn-info" onclick="displayBlastSettings()">Advanced BLAST Settings </button>

        </div>



    <script>
        function displayBlastSettings() {
              var settingsForm = document.getElementById("advanced_settings");
              if (settingsForm.style.display == "none") {
                settingsForm.style.display = "block";
              } else {
                settingsForm.style.display = "none";
              }
            }
    </script>
</body>
</html>